# 即時通知系統簡介

即時通知系統，顧名思義，就是在 發佈者（Publisher） 發佈訊息時能立即通知所有 訂閱者（Subscriber），實際例子就像Facebook的訊息牆，只要好友發了一則動態，我不必重新整理頁面，即可立即收到通知，我的好友即是發佈者，而我則是訂閱者。

在過去（約十幾年前），要達到這樣的效果，必須讓Client端不斷向伺服器發出詢問，才能在短時間內知道變化，此種方法耗費大量無謂的系統資源，最差情況是從上線到下線都無任何新訊息，但Client卻向伺服器發出了上萬次的請求，最終都得到無任何變化的回覆，此種方式稱為Polling。

而在Facebook初期，所使用的方式稱為Long polling，這與一般的Polling最大的差別在於，如果沒有最新訊息時，不會馬上回覆，而是要等到timeout或有新訊息的時候才回覆，所以變成Client詢問伺服器之後，如果沒有最新訊息，就會一直等下去，這條詢問的請求也不會中斷，這雖然解決了Polling浪費很多無謂請求的問題，但也造成伺服器連線佔用的問題，如果訊息量很大，也會跟Polling一樣，不斷送出請求，造成另類的DDoS。



